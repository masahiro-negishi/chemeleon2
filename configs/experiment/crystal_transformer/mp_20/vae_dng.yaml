# @package _global_
defaults:
  - override /data: mp-20
  - override /vae_module: vae_module
  - override /vae_module/encoder: crystal_transformer
  - override /callbacks: default
  - override /logger: wandb
  - override /scheduler: constant
  - override /trainer: default
  - override /paths: default
  - override /hydra: default

data:
  dataset:
    compute_radius_graph: true
    r_cutoff: 6.0
    max_neighbors: null
    compute_edge_vectors: false

trainer:
  max_epochs: 5000

vae_module:
  atom_type_predict: true

  loss_weights:
    atom_types: 1.0
    lengths: 1.0
    angles: 1.0
    frac_coords: 10.0
    kl: 1e-5
    fa: 0.0

  encoder:
    num_layers: 4

  decoder:
    num_layers: 4
    d_model: 256
    nhead: 4
    dim_feedforward: 1024
    atom_index_embedding: false

  augmentation:
    translate: false
    rotate: false

logger:
  wandb:
    name: "vae_dng_crystal_transformer"
    group: "${task_name}/${data.name}/crystal_transformer"
    tags: ["vae", "dng", "crystal_transformer"]
