# @package _global_
# RL Custom Reward Experiment Configuration
#
# Example: Atomic density reward using CustomReward component
# See user guide: docs/user-guide/rewards/atomic-density.md

data:
  data_dir: ${paths.data_dir}/mp-20
  batch_size: 5

rl_module:
  ldm_ckpt_path: ${hub:mp_20_ldm_base}
  vae_ckpt_path: ${hub:mp_20_vae}

  rl_configs:
    num_group_samples: 64
    group_reward_norm: true

  reward_fn:
    _target_: src.rl_module.reward.ReinforceReward
    normalize_fn: std
    eps: 1e-4
    reference_dataset: mp-20
    components:
      - _target_: src.rl_module.components.CustomReward
        weight: 1.0
        normalize_fn: norm  # Scale to [0, 1] within batch

logger:
  wandb:
    name: rl_custom_reward
